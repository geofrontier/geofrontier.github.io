<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nexus War Guide — GeoFrontier Minecraft Server</title>
  
  <!-- Fonts & Icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <style>
    /* Base Styles & Variables (keeping your excellent scheme) */
    :root {
      --primary-dark: #0B1120;
      --primary-deep: #1E293B;
      --accent-gold: #D4AF37;
      --accent-teal: #2DD4BF;
      --accent-rust: #B7410E;
      --text-light: #F1F5F9;
      --text-muted: #94A3B8;
      --border-glow: rgba(212, 175, 55, 0.2);
      --shadow-heavy: 0 10px 30px -10px rgba(0, 0, 0, 0.7);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background-color: var(--primary-dark);
      color: var(--text-light);
      line-height: 1.6;
      background-image: 
        radial-gradient(circle at 10% 20%, rgba(45, 212, 191, 0.05) 0%, transparent 30%),
        radial-gradient(circle at 90% 80%, rgba(183, 65, 14, 0.05) 0%, transparent 30%);
    }

    a {
      color: var(--accent-teal);
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    .btn {
      display: inline-block;
      padding: 10px 20px;
      border-radius: 8px;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.3s ease;
      border: 1px solid var(--accent-gold);
      background: transparent;
      color: var(--accent-gold);
    }

    .btn:hover {
      background: var(--accent-gold);
      color: var(--primary-dark);
      text-decoration: none;
    }

    .btn-outline {
      border-color: var(--accent-teal);
      color: var(--accent-teal);
    }

    .btn-outline:hover {
      background: var(--accent-teal);
      color: var(--primary-dark);
    }

    /* Guide Header */
    .guide-header {
      position: relative;
      background: linear-gradient(rgba(11, 17, 32, 0.95), rgba(11, 17, 32, 0.98));
      color: white;
      text-align: center;
      padding: 60px 20px;
      border-bottom: 2px solid var(--accent-gold);
    }

    .guide-header-content {
      max-width: 900px;
      margin: 0 auto;
    }

    .guide-header h1 {
      font-family: 'Cinzel', serif;
      font-size: 3.2rem;
      margin-bottom: 15px;
      color: var(--accent-gold);
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
      letter-spacing: 1px;
    }

    .guide-header p {
      font-size: 1.2rem;
      color: var(--text-muted);
      max-width: 700px;
      margin: 0 auto;
    }

    .guide-icon {
      font-size: 3rem;
      margin-bottom: 20px;
      color: var(--accent-teal);
    }

    /* Main Container */
    .guide-container {
      max-width: 1000px;
      margin: 40px auto;
      padding: 0 20px;
    }

    /* Table of Contents - Cleaner, Wikipedia-like */
    .table-of-contents {
      background-color: rgba(30, 41, 59, 0.5);
      border: 1px solid var(--border-glow);
      padding: 20px 25px;
      margin-bottom: 40px;
      border-radius: 8px;
    }

    .table-of-contents h3 {
      font-family: 'Cinzel', serif;
      color: var(--accent-gold);
      margin-bottom: 15px;
      font-size: 1.4rem;
      font-weight: 600;
      border-bottom: 1px solid var(--border-glow);
      padding-bottom: 8px;
    }

    .toc-list {
      list-style: none;
      display: flex;
      flex-wrap: wrap;
      gap: 15px 30px;
    }

    .toc-list li {
      flex: 0 0 auto;
      width: calc(50% - 15px);
    }

    .toc-list a {
      color: var(--text-light);
      display: flex;
      align-items: center;
      gap: 8px;
      transition: color 0.2s;
    }

    .toc-list a i {
      color: var(--accent-teal);
      font-size: 0.8rem;
    }

    .toc-list a:hover {
      color: var(--accent-gold);
      text-decoration: none;
    }

    /* Guide Sections */
    .guide-section {
      margin-bottom: 45px;
      padding-bottom: 25px;
      border-bottom: 1px solid var(--border-glow);
    }

    .guide-section:last-of-type {
      border-bottom: none;
    }

    .guide-section h2 {
      font-family: 'Cinzel', serif;
      font-size: 2rem;
      margin: 0 0 20px 0;
      color: var(--accent-gold);
      display: flex;
      align-items: center;
      gap: 12px;
      border-bottom: 1px solid rgba(212, 175, 55, 0.3);
      padding-bottom: 8px;
    }

    .guide-section h2 i {
      color: var(--accent-teal);
      font-size: 1.6rem;
    }

    .guide-section h3 {
      font-family: 'Cinzel', serif;
      font-size: 1.4rem;
      margin: 25px 0 15px 0;
      color: var(--accent-teal);
      font-weight: 600;
    }

    .guide-section h3 i {
      margin-right: 8px;
      font-size: 1.2rem;
      color: var(--accent-gold);
    }

    .guide-section p {
      margin-bottom: 15px;
      color: var(--text-muted);
    }

    .guide-section ul, .guide-section ol {
      margin: 15px 0 20px 25px;
      color: var(--text-muted);
    }

    .guide-section li {
      margin-bottom: 8px;
    }

    .guide-section li strong {
      color: var(--text-light);
      font-weight: 600;
    }

    .guide-section code {
      background: rgba(45, 212, 191, 0.1);
      color: var(--accent-teal);
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'Consolas', monospace;
      font-size: 0.9em;
    }

    /* Special Boxes - Less noisy, more subtle */
    .info-panel {
      background-color: rgba(15, 23, 42, 0.6);
      border: 1px solid var(--border-glow);
      border-radius: 12px;
      padding: 20px;
      margin: 25px 0;
    }

    .info-panel h4 {
      color: var(--accent-gold);
      margin-bottom: 15px;
      font-size: 1.2rem;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .grid-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }

    .card {
      background: rgba(15, 23, 42, 0.7);
      border: 1px solid rgba(212, 175, 55, 0.15);
      border-radius: 10px;
      padding: 20px;
      text-align: center;
      transition: border-color 0.2s;
    }

    .card:hover {
      border-color: var(--accent-gold);
    }

    .card i {
      font-size: 2rem;
      color: var(--accent-gold);
      margin-bottom: 12px;
    }

    .card h4 {
      color: var(--accent-teal);
      margin-bottom: 10px;
      font-family: 'Cinzel', serif;
    }

    .card p {
      color: var(--text-muted);
      font-size: 0.95rem;
      margin: 0;
    }

    .card .meta {
      color: var(--accent-rust);
      font-weight: bold;
      margin-top: 10px;
      font-size: 0.9rem;
    }

    .callout {
      padding: 15px 20px;
      margin: 20px 0;
      border-left: 4px solid;
      background: rgba(255, 255, 255, 0.02);
    }

    .callout.tip {
      border-left-color: var(--accent-gold);
    }

    .callout.warning {
      border-left-color: var(--accent-rust);
    }

    .callout i {
      margin-right: 10px;
    }

    .command-list {
      background: rgba(15, 23, 42, 0.5);
      border: 1px solid var(--border-glow);
      border-radius: 8px;
      padding: 15px 20px;
      margin: 20px 0;
      font-family: 'Consolas', monospace;
    }

    .command-list dt {
      color: var(--accent-teal);
      font-weight: 600;
      margin-top: 10px;
    }

    .command-list dt:first-of-type {
      margin-top: 0;
    }

    .command-list dd {
      color: var(--text-muted);
      margin-left: 20px;
      margin-bottom: 10px;
      font-family: 'Inter', sans-serif;
    }

    hr {
      border: none;
      border-top: 1px solid var(--border-glow);
      margin: 30px 0;
    }

    @media (max-width: 768px) {
      .guide-header h1 {
        font-size: 2.4rem;
      }

      .toc-list li {
        width: 100%;
      }

      .grid-cards {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <!-- Navbar placeholder -->
  <div id="navbar-container"></div>

  <!-- Guide Header -->
  <header class="guide-header">
    <div class="guide-header-content">
      <div class="guide-icon">
        <i class="fas fa-crosshairs"></i>
      </div>
      <h1>Nexus War Guide</h1>
      <p>A comprehensive overview of warfare, raiding, and diplomacy on GeoFrontier.</p>
    </div>
  </header>

  <!-- Main Content -->
  <div class="guide-container">

    <!-- Table of Contents -->
    <div class="table-of-contents">
      <h3>Contents</h3>
      <ul class="toc-list">
        <li><a href="#the-nexus"><i class="fas fa-chevron-right"></i> 1. The Nexus System</a></li>
        <li><a href="#warfare"><i class="fas fa-chevron-right"></i> 2. Full-Scale Warfare</a></li>
        <li><a href="#raids"><i class="fas fa-chevron-right"></i> 3. Raids</a></li>
        <li><a href="#defense"><i class="fas fa-chevron-right"></i> 4. Defense & Fortification</a></li>
        <li><a href="#diplomacy"><i class="fas fa-chevron-right"></i> 5. Diplomacy: Ultimatums & Peace</a></li>
      </ul>
    </div>

    <!-- Section 1: The Nexus -->
    <section class="guide-section" id="the-nexus">
      <h2><i class="fas fa-flag"></i> 1. The Nexus System</h2>
      <p>The <strong>Nexus</strong> is the physical and political heart of every town. It is a placeable block that serves as the town's war objective. Its destruction in a full-scale war means the dissolution of the town. Interacting with a Nexus or using the <code>/nexus</code> command opens the war management GUI.</p>

      <div class="grid-cards">
        <div class="card">
          <i class="fas fa-heart"></i>
          <h4>Hit Points</h4>
          <p>Each Nexus has 1,000 HP. When it reaches 0 during an active war, the town is defeated.</p>
        </div>
        <div class="card">
          <i class="fas fa-gift"></i>
          <h4>Creation</h4>
          <p>Towns are automatically given a Nexus upon creation. It can be moved or removed during peacetime.</p>
        </div>
        <div class="card">
          <i class="fas fa-eye"></i>
          <h4>Accessibility</h4>
          <p>Nexuses must be reasonably accessible. Hiding them underground or in bedrock is prohibited.</p>
        </div>
      </div>

      <h3><i class="fas fa-terminal"></i> Nexus Commands</h3>
      <dl class="command-list">
        <dt><code>/nexus</code></dt>
        <dd>Opens the Nexus GUI for managing wars, viewing status, and initiating raids.</dd>
        <dt><code>/nexus move</code></dt>
        <dd>Moves your town's Nexus to your current location. Cannot be used during an active war.</dd>
        <dt><code>/nexus remove</code></dt>
        <dd>Permanently removes the town's Nexus. Only available during peacetime.</dd>
        <dt><code>/nexus create</code></dt>
        <dd>Creates a new Nexus for your town if one does not exist.</dd>
      </dl>

      <div class="callout warning">
        <i class="fas fa-exclamation-triangle"></i>
        <strong>Staff Enforcement:</strong> The Nexus must be placed in a location that attackers can physically reach. Burying it in bedrock, lava, or behind unbreakable barriers is not allowed. Staff will relocate improperly placed Nexuses to a suitable surface location.
      </div>
    </section>

    <!-- Section 2: Full-Scale Warfare -->
    <section class="guide-section" id="warfare">
      <h2><i class="fas fa-fist-raised"></i> 2. Full-Scale Warfare</h2>
      <p>A formal declaration of war allows for the complete destruction of an enemy's Nexus. It is a high-stakes conflict with no time limit, ending only when one side's Nexus is destroyed or a peace treaty is signed.</p>

      <h3>Prerequisites for Declaring War</h3>
      <ul>
        <li><strong>Diplomatic Status:</strong> Your nation must have the target nation or town set as an enemy.</li>
        <li><strong>Peace:</strong> Neither party can already be at war with each other.</li>
        <li><strong>Active Nexus:</strong> Both sides must have at least one town with a valid, placed Nexus.</li>
        <li><strong>Permission:</strong> You must be a nation leader or have the necessary war permissions.</li>
      </ul>

      <h3>War Commands</h3>
      <dl class="command-list">
        <dt><code>/war declare nation &lt;nation&gt;</code></dt>
        <dd>Declares war on an entire nation and all its member towns.</dd>
        <dt><code>/war declare town &lt;town&gt;</code></dt>
        <dd>Declares war on a specific town.</dd>
        <dt><code>/war status</code></dt>
        <dd>Checks the current status of any wars your nation or town is involved in.</dd>
        <dt><code>/war list</code></dt>
        <dd>Lists all active wars currently happening on the server.</dd>
      </dl>

      <div class="callout tip">
        <i class="fas fa-scroll"></i>
        <strong>Casus Belli:</strong> While not mechanically required, roleplaying a reason for war—such as a border dispute, historical grievance, or resource conflict—greatly enhances the server's narrative and can help you secure allies.
      </div>
    </section>

    <!-- Section 3: Raids -->
    <section class="guide-section" id="raids">
      <h2><i class="fas fa-gem"></i> 3. Raids</h2>
      <p>Raids are limited, time-bound hostile actions initiated through the Nexus GUI. They allow for targeted aggression without triggering a full-scale war, meaning the defender's Nexus is not at risk of permanent destruction.</p>

      <div class="grid-cards">
        <div class="card">
          <i class="fas fa-coins"></i>
          <h4>Plunder Raid</h4>
          <p>A quick strike focused on stealing resources from the target town's chests.</p>
          <div class="meta">Duration: 1 Hour</div>
        </div>
        <div class="card">
          <i class="fas fa-flag"></i>
          <h4>Conquest Raid</h4>
          <p>An attempt to claim a specific piece of territory (a chunk) for your own nation.</p>
          <div class="meta">Duration: 2 Hours</div>
        </div>
        <div class="card">
          <i class="fas fa-wrench"></i>
          <h4>Sabotage Raid</h4>
          <p>A covert operation to damage or destroy enemy infrastructure like factories and mounted weapons.</p>
          <div class="meta">Duration: 30 Minutes</div>
        </div>
      </div>

      <h3>Raid Limitations</h3>
      <ul>
        <li><strong>Nexus Immunity:</strong> The defender's Nexus cannot be damaged during a raid.</li>
        <li><strong>Time Limit:</strong> All raids have strict durations (30m to 2h).</li>
        <li><strong>Defender Rights:</strong> Defenders are free to fight back and protect their town for the raid's duration.</li>
      </ul>

      <p>Raids are initiated from the Nexus GUI (<code>/nexus</code>) and are an excellent way to weaken an enemy, gather intelligence, or probe their defenses before committing to a full-scale war.</p>
    </section>

    <!-- Section 4: Defense & Fortification -->
    <section class="guide-section" id="defense">
      <h2><i class="fas fa-shield-alt"></i> 4. Defense & Fortification</h2>
      <p>A well-defended Nexus is the key to surviving a war. Defense requires a combination of strategic architecture, traps, and active player garrisoning.</p>

      <h3>Principles of Nexus Defense</h3>
      <ul>
        <li><strong>Layered Defense:</strong> Do not rely on a single wall. Create multiple defensive rings around your Nexus with chokepoints and kill zones.</li>
        <li><strong>Garrison:</strong> A Nexus is only as strong as the players defending it. Establish a rotation of defenders, especially during known active hours.</li>
        <li><strong>Redstone & Traps:</strong> Use arrow dispensers, lava moats (with careful controls), and falling block traps to slow and damage attackers.</li>
      </ul>

      <h3>Architectural Tips</h3>
      <ul>
        <li><strong>Obsidian Core:</strong> While expensive, reinforcing the immediate Nexus chamber with obsidian provides significant blast resistance.</li>
        <li><strong>Murder Holes:</strong> Create openings in the floor above your Nexus chamber to allow defenders to fire down at attackers.</li>
        <li><strong>Water Curtains:</strong> Strategic use of water can extinguish fires, push back attackers, and negate TNT damage.</li>
      </ul>

      <div class="callout warning">
        <i class="fas fa-exclamation-triangle"></i>
        <strong>Fair Play Reminder:</strong> While you are encouraged to build elaborate defenses, you cannot make the Nexus completely inaccessible. The path to the Nexus must be physically navigable by an attacker.
      </div>
    </section>

    <!-- Section 5: Diplomacy -->
    <section class="guide-section" id="diplomacy">
      <h2><i class="fas fa-handshake"></i> 5. Diplomacy: Ultimatums & Peace</h2>
      <p>War is not the only option. GeoFrontier features a robust diplomatic system for resolving conflicts or making demands without a single arrow fired.</p>

      <h3>Ultimatums</h3>
      <p>An ultimatum is a formal demand issued to another nation or town before a war declaration. It allows you to state your terms and give your opponent a chance to comply. Issuing an ultimatum opens a negotiation GUI where you can propose various conditions.</p>

      <h3>Peace Treaties</h3>
      <p>Peace treaties are used to end an ongoing war. They utilize the same GUI as ultimatums, allowing both sides to negotiate terms for surrender or ceasefire.</p>

      <dl class="command-list">
        <dt><code>/ultimatum issue &lt;opponent&gt;</code></dt>
        <dd>Opens the negotiation GUI to issue a pre-war ultimatum with specific terms.</dd>
        <dt><code>/peace propose &lt;opponent&gt;</code></dt>
        <dd>Opens the negotiation GUI to propose terms for ending an active war.</dd>
        <dt><code>/war peace</code></dt>
        <dd>Requests an unconditional peace (surrender) with all parties you are currently at war with.</dd>
      </dl>

      <h3>Negotiable Terms</h3>
      <div class="grid-cards">
        <div class="card">
          <i class="fas fa-exchange-alt"></i>
          <h4>Territory Transfer</h4>
          <p>Permanently transfer a town or chunk to the other party.</p>
        </div>
        <div class="card">
          <i class="fas fa-clock"></i>
          <h4>Occupation</h4>
          <p>Temporarily occupy a territory for up to 30 days. Control, but not ownership, is transferred.</p>
        </div>
        <div class="card">
          <i class="fas fa-coins"></i>
          <h4>Reparations</h4>
          <p>A one-time payment of in-game currency from one party to another.</p>
        </div>
        <div class="card">
          <i class="fas fa-gavel"></i>
          <h4>Player Jailing</h4>
          <p>Specific players from the losing side can be jailed for a period of up to 7 days.</p>
        </div>
      </div>

      <div class="callout tip">
        <i class="fas fa-lightbulb"></i>
        <p><strong>Strategic Diplomacy:</strong> Use ultimatums to gauge an enemy's resolve. A strong, prepared nation might refuse, while a weaker one may concede to your demands. In peace negotiations, asking for temporary occupation of a key resource zone can be a more achievable goal than demanding permanent cession.</p>
      </div>
    </section>

    <hr>

    <!-- Navigation Footer -->
    <div style="display: flex; justify-content: space-between; margin: 30px 0;">
      <a href="guide-factories.html" class="btn btn-outline"><i class="fas fa-arrow-left"></i> Factories Guide</a>
      <a href="index.html" class="btn"><i class="fas fa-home"></i> Return to Home</a>
    </div>

  </div>

  <!-- Footer placeholder -->
  <div id="footer-container"></div>

  <!-- Load component loader -->
  <script src="js/components-loader.js"></script>
  <script>
    // Basic initialization for the guide page
    document.addEventListener('DOMContentLoaded', () => {
      if (window.ComponentLoader) {
        window.ComponentLoader.loadComponent('navbar', 'navbar-container');
        window.ComponentLoader.loadComponent('footer', 'footer-container');
      }
    });
  </script>
</body>
</html>
